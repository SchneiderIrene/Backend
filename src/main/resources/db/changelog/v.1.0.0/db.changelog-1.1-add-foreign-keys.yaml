databaseChangeLog:
  - changeSet:
      id: 1
      author: chicagoist
      changes:
        - addForeignKeyConstraint:
            baseTableName: user
            baseColumnNames: roles
            referencedTableName: user_role
            referencedColumnNames: id
            constraintName: fkey_user_to_user_role
            onDelete: CASCADE

  - changeSet:
      id: 2
      author: chicagoist
      changes:
        - addForeignKeyConstraint:
            baseTableName: pot
            baseColumnNames: user_id
            referencedTableName: user
            referencedColumnNames: id
            constraintName: fkey_pot_user_id_foreign
            onDelete: CASCADE
        - addForeignKeyConstraint:
              baseTableName: pot
              baseColumnNames: instruction_id
              referencedTableName: instruction
              referencedColumnNames: id
              constraintName: fkey_pot_instruction_id_foreign
              onDelete: CASCADE

  - changeSet:
        id: 3
        author: chicagoist
        changes:
            - addForeignKeyConstraint:
                  baseTableName: confirm_code
                  baseColumnNames: instruction_id
                  referencedTableName: instruction
                  referencedColumnNames: id
                  constraintName: fkey_confirm_code_user_id_foreign
                  onDelete: CASCADE

  - changeSet:
        id: 4
        author: chicagoist
        changes:
            - addForeignKeyConstraint:
                  baseTableName: user_role
                  baseColumnNames: user_id
                  referencedTableName: user
                  referencedColumnNames: id
                  constraintName: fkey_user_role_user_id_foreign
                  onDelete: CASCADE
            - addForeignKeyConstraint:
                  baseTableName: user_role
                  baseColumnNames: role_id
                  referencedTableName: role
                  referencedColumnNames: id
                  constraintName: fkey_user_role_role_id_foreign
                  onDelete: CASCADE